<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Can ‚ù§Ô∏è Aylin | Anƒ±larƒ±mƒ±z</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&family=Dancing+Script:wght@700&display=swap" rel="stylesheet">

<style>
:root {
    --primary: #ff4fd8;
    --secondary: #7a00ff;
    --bg-dark: #0a0a0a;
}

body {
    margin: 0;
    font-family: 'Poppins', sans-serif;
    background: var(--bg-dark);
    color: #fff;
    overflow-x: hidden;
}

/* Giri≈ü Ekranƒ± */
#pin {
    position: fixed;
    inset: 0;
    background: radial-gradient(circle, #1a1a1a 0%, #000 100%);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    z-index: 100;
    transition: 0.5s;
}

#pin h2 {
    font-family: 'Dancing Script', cursive;
    font-size: 2.5em;
    margin-bottom: 20px;
    background: linear-gradient(to right, var(--primary), var(--secondary));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

#pin input {
    padding: 15px;
    font-size: 24px;
    border-radius: 15px;
    border: 2px solid #333;
    background: #111;
    color: white;
    width: 150px;
    text-align: center;
    letter-spacing: 5px;
    outline: none;
    transition: 0.3s;
}

#pin input:focus { border-color: var(--primary); }

#pin button {
    margin-top: 20px;
    padding: 10px 30px;
    border-radius: 25px;
    border: none;
    background: linear-gradient(45deg, var(--primary), var(--secondary));
    color: white;
    font-weight: bold;
    cursor: pointer;
    transition: 0.3s;
}

#pin button:hover { transform: scale(1.1); }

/* Ana ƒ∞√ßerik */
.hidden { display: none; opacity: 0; }
#main { padding-bottom: 50px; }

header {
    height: 60vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    background: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('https://images.unsplash.com/photo-1518621736915-f3b1c41bfd00?q=80&w=2000') center/cover;
}

header h1 {
    font-family: 'Dancing Script', cursive;
    font-size: 4em;
    margin: 0;
    text-shadow: 0 0 20px rgba(255, 79, 216, 0.6);
}

header p { font-size: 1.2em; font-weight: 300; margin-top: 10px; color: #ddd; }

/* Saya√ß Kartƒ± */
.counter-card {
    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(10px);
    margin: -50px auto 30px;
    width: 80%;
    max-width: 600px;
    padding: 30px;
    border-radius: 20px;
    border: 1px solid rgba(255,255,255,0.1);
    text-align: center;
    position: relative;
    z-index: 2;
}

.counter-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 10px;
}

.counter-item span { display: block; font-size: 1.5em; font-weight: bold; color: var(--primary); }
.counter-item label { font-size: 0.7em; text-transform: uppercase; opacity: 0.7; }

/* Galeri */
.gallery {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 15px;
    padding: 20px;
}

.post {
    position: relative;
    aspect-ratio: 1/1;
    border-radius: 15px;
    overflow: hidden;
    box-shadow: 0 10px 20px rgba(0,0,0,0.3);
}

.post img { width: 100%; height: 100%; object-fit: cover; transition: 0.5s; }
.post:hover img { transform: scale(1.1) rotate(2deg); }

.overlay {
    position: absolute;
    inset: 0;
    background: rgba(0,0,0,0.5);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    opacity: 0;
    transition: 0.3s;
}

.post:hover .overlay { opacity: 1; }

.heart-btn { font-size: 30px; cursor: pointer; color: white; transition: 0.3s; }
.heart-btn.liked { color: var(--primary); transform: scale(1.2); }

.comment-input {
    margin-top: 10px;
    padding: 5px;
    border-radius: 5px;
    border: none;
    width: 80%;
}

/* Y√ºkleme Butonu */
.upload-section { text-align: center; margin: 40px 0; }
.custom-file-upload {
    background: linear-gradient(45deg, var(--primary), var(--secondary));
    padding: 12px 25px;
    border-radius: 50px;
    cursor: pointer;
    font-weight: 500;
}

/* Lightbox */
#lightbox {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.95);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 1000;
}

#lightbox img { max-width: 90%; max-height: 80vh; border-radius: 10px; }

</style>
</head>
<body>

<div id="pin">
  <h2>A≈ük Defterimiz</h2>
  <input type="password" id="pinInput" placeholder="****">
  <button onclick="checkPin()">Giri≈ü Yap</button>
  <p id="pinMsg" style="color:red; margin-top:10px"></p>
</div>

<div id="main" class="hidden">

<header>
  <h1>Can ‚ù§Ô∏è Aylin</h1>
  <p id="quote">"Biz iki ki≈üilik bir d√ºnyayƒ±z."</p>
</header>

<div class="counter-card">
  <div class="counter-grid">
    <div class="counter-item"><span id="days">0</span><label>G√ºn</label></div>
    <div class="counter-item"><span id="hours">0</span><label>Saat</label></div>
    <div class="counter-item"><span id="minutes">0</span><label>Dakika</label></div>
    <div class="counter-item"><span id="seconds">0</span><label>Saniye</label></div>
  </div>
  <p style="margin-top:15px; font-size: 0.9em; opacity: 0.8;">10 Nisan 2025'ten beri birlikteyiz...</p>
</div>

<div class="upload-section">
  <label class="custom-file-upload">
    <input type="file" id="fileInput" accept="image/*" style="display:none">
    üì∏ Yeni Bir Anƒ± Ekle
  </label>
</div>

<section class="gallery" id="gallery"></section>

</div>

<div id="lightbox" onclick="this.style.display='none'">
  <img id="lightImg">
</div>

<script>
/* PIN - G√ºncellendi: 1904 */
const SITE_PIN = "1904";
function checkPin() {
  const input = document.getElementById("pinInput").value;
  if(input === SITE_PIN) {
    document.getElementById("pin").style.opacity = "0";
    setTimeout(() => {
      document.getElementById("pin").style.display = "none";
      const main = document.getElementById("main");
      main.classList.remove("hidden");
      main.style.opacity = "1";
    }, 500);
  } else {
    document.getElementById("pinMsg").textContent = "Yanlƒ±≈ü PIN, tekrar dene a≈ükƒ±m!";
  }
}

/* Saya√ß Geli≈ütirilmi≈ü */
const startDate = new Date("2025-04-10T00:00:00");
function updateCounter() {
  const now = new Date();
  const diff = now - startDate;

  const d = Math.floor(diff / (1000 * 60 * 60 * 24));
  const h = Math.floor((diff / (1000 * 60 * 60)) % 24);
  const m = Math.floor((diff / (1000 * 60)) % 60);
  const s = Math.floor((diff / 1000) % 60);

  document.getElementById("days").textContent = d;
  document.getElementById("hours").textContent = h;
  document.getElementById("minutes").textContent = m;
  document.getElementById("seconds").textContent = s;
}
setInterval(updateCounter, 1000);

/* Fotoƒüraflar ve Yerel Depolama */
let photos = JSON.parse(localStorage.getItem("photos") || '["1P5NLAw-2s9ar9acN2Ifj3_NPrcHC0_Ax"]');
let votes = JSON.parse(localStorage.getItem("votes") || "{}");
let comments = JSON.parse(localStorage.getItem("comments") || "{}");

function renderGallery() {
  const gallery = document.getElementById("gallery");
  gallery.innerHTML = "";
  
  photos.forEach(id => {
    const isLocal = id.startsWith("data:");
    const url = isLocal ? id : `https://drive.google.com/thumbnail?id=${id}&sz=w1000`;
    
    const post = document.createElement("div");
    post.className = "post";
    
    const v = votes[id] || 0;
    const cmt = comments[id] || "";

    post.innerHTML = `
      <img src="${url}" onclick="openLightbox('${url}')">
      <div class="overlay">
        <div class="heart-btn ${v > 0 ? 'liked' : ''}" onclick="likePhoto('${id}', this)">‚ù§</div>
        <input type="text" class="comment-input" placeholder="Yorum..." value="${cmt}" onchange="saveComment('${id}', this.value)">
      </div>
    `;
    gallery.appendChild(post);
  });
}

function openLightbox(url) {
  document.getElementById("lightImg").src = url;
  document.getElementById("lightbox").style.display = 'flex';
}

function likePhoto(id, el) {
  votes[id] = (votes[id] || 0) + 1;
  el.classList.add("liked");
  localStorage.setItem("votes", JSON.stringify(votes));
}

function saveComment(id, val) {
  comments[id] = val;
  localStorage.setItem("comments", JSON.stringify(comments));
}

/* Yeni Fotoƒüraf Y√ºkleme */
document.getElementById("fileInput").onchange = (e) => {
  const file = e.target.files[0];
  if (file) {
    const reader = new FileReader();
    reader.onload = (event) => {
      photos.unshift(event.target.result); // Yeni fotoƒürafƒ± ba≈üa ekle
      localStorage.setItem("photos", JSON.stringify(photos));
      renderGallery();
    };
    reader.readAsDataURL(file);
  }
};

/* S√∂zler */
const quotes = ["Sonsuzluƒüum olur musun?", "En g√ºzel manzaram sensin.", "Her fotoƒürafƒ±mƒ±z bir hikaye.", "Seni seviyorum."];
let qi = 0;
setInterval(() => {
  document.getElementById("quote").style.opacity = 0;
  setTimeout(() => {
    document.getElementById("quote").textContent = quotes[++qi % quotes.length];
    document.getElementById("quote").style.opacity = 1;
  }, 500);
}, 5000);

renderGallery();
updateCounter();
</script>

</body>
</html>
