<!doctype html>
<html lang="de">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Can ‚ù§Ô∏è Aylin | Unsere Erinnerungen</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&family=Dancing+Script:wght@700&display=swap" rel="stylesheet">

<style>
:root {
    --primary: #ff4fd8;
    --secondary: #7a00ff;
    --bg-dark: #0a0a0a;
    --glass: rgba(255, 255, 255, 0.1);
}

body {
    margin: 0;
    font-family: 'Poppins', sans-serif;
    background: var(--bg-dark);
    color: #fff;
    overflow-x: hidden;
}

/* Giri≈ü Ekranƒ± */
#pin {
    position: fixed;
    inset: 0;
    background: radial-gradient(circle, #1a1a1a 0%, #000 100%);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    z-index: 2000;
    transition: 0.8s cubic-bezier(0.4, 0, 0.2, 1);
}

#pin h2 {
    font-family: 'Dancing Script', cursive;
    font-size: 3em;
    margin-bottom: 20px;
    background: linear-gradient(to right, var(--primary), var(--secondary));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

#pin input {
    padding: 15px;
    font-size: 24px;
    border-radius: 15px;
    border: 2px solid #333;
    background: #111;
    color: white;
    width: 160px;
    text-align: center;
    letter-spacing: 5px;
    outline: none;
    transition: 0.3s;
}

#pin input:focus { border-color: var(--primary); box-shadow: 0 0 15px rgba(255, 79, 216, 0.3); }

#pin button {
    margin-top: 25px;
    padding: 12px 40px;
    border-radius: 30px;
    border: none;
    background: linear-gradient(45deg, var(--primary), var(--secondary));
    color: white;
    font-weight: bold;
    cursor: pointer;
    transition: 0.3s;
    font-size: 1.1em;
}

#pin button:hover { transform: scale(1.05); filter: brightness(1.2); }

/* Ana ƒ∞√ßerik */
.hidden { display: none; opacity: 0; }
#main { padding-bottom: 120px; transition: opacity 1s ease-in; }

header {
    height: 60vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('https://images.unsplash.com/photo-1518621736915-f3b1c41bfd00?q=80&w=2000') center/cover;
}

header h1 {
    font-family: 'Dancing Script', cursive;
    font-size: 4.5em;
    margin: 0;
    text-shadow: 0 0 30px rgba(255, 79, 216, 0.5);
}

header p#quote { font-size: 1.3em; font-weight: 300; margin-top: 15px; color: #eee; min-height: 1.5em; transition: 0.5s; }

/* Saya√ß Kartƒ± */
.counter-card {
    background: var(--glass);
    backdrop-filter: blur(15px);
    margin: -60px auto 30px;
    width: 85%;
    max-width: 600px;
    padding: 35px;
    border-radius: 25px;
    border: 1px solid rgba(255,255,255,0.1);
    text-align: center;
    position: relative;
    z-index: 10;
}

.counter-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 15px;
}

.counter-item span { display: block; font-size: 1.8em; font-weight: bold; color: var(--primary); }
.counter-item label { font-size: 0.75em; text-transform: uppercase; opacity: 0.8; letter-spacing: 1px; }

/* Galeri */
.gallery {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 20px;
    padding: 25px;
}

.post {
    position: relative;
    aspect-ratio: 1/1;
    border-radius: 20px;
    overflow: hidden;
    background: #1a1a1a;
    box-shadow: 0 15px 35px rgba(0,0,0,0.4);
}

.post img { width: 100%; height: 100%; object-fit: cover; transition: 0.6s cubic-bezier(0.2, 1, 0.3, 1); cursor: pointer; }
.post:hover img { transform: scale(1.1); }

.overlay {
    position: absolute;
    inset: 0;
    background: rgba(0,0,0,0.4);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    opacity: 0;
    transition: 0.4s;
}

.post:hover .overlay { opacity: 1; }

.heart-btn { font-size: 35px; cursor: pointer; color: white; transition: 0.3s; text-shadow: 0 0 10px rgba(0,0,0,0.5); }
.heart-btn.liked { color: var(--primary); transform: scale(1.2); }

.comment-input {
    margin-top: 15px;
    padding: 10px;
    border-radius: 10px;
    border: none;
    width: 85%;
    background: rgba(255,255,255,0.9);
    font-family: inherit;
}

/* Apple Music Player */
.music-player {
    position: fixed;
    bottom: 25px;
    left: 50%;
    transform: translateX(-50%);
    width: 320px;
    background: rgba(20, 20, 20, 0.75);
    backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 20px;
    padding: 12px 20px;
    z-index: 1000;
    display: flex;
    align-items: center;
    gap: 15px;
    box-shadow: 0 10px 40px rgba(0,0,0,0.6);
}

.album-art {
    width: 50px;
    height: 50px;
    border-radius: 10px;
    background: url('https://i.scdn.co/image/ab67616d0000b2739343936630f92275990f19a3') center/cover;
    box-shadow: 0 4px 12px rgba(0,0,0,0.4);
    animation: musicPulse 2s infinite ease-in-out;
}

@keyframes musicPulse {
    0%, 100% { transform: scale(1); box-shadow: 0 4px 12px rgba(0,0,0,0.4); }
    50% { transform: scale(1.05); box-shadow: 0 4px 20px var(--primary); }
}

.player-info { flex: 1; overflow: hidden; }
.player-info h4 { margin: 0; font-size: 14px; color: #fff; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.player-info p { margin: 0; font-size: 11px; color: var(--primary); font-weight: 600; text-transform: uppercase; }

#youtube-player {
    position: absolute;
    width: 1px;
    height: 1px;
    opacity: 0;
    pointer-events: none;
}

/* Y√ºkleme Butonu */
.upload-section { text-align: center; margin: 40px 0; }
.custom-file-upload {
    background: linear-gradient(45deg, var(--primary), var(--secondary));
    padding: 14px 30px;
    border-radius: 50px;
    cursor: pointer;
    font-weight: 600;
    display: inline-block;
    box-shadow: 0 5px 15px rgba(122, 0, 255, 0.3);
}

#lightbox {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.95);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 3000;
}
#lightbox img { max-width: 90%; max-height: 85vh; border-radius: 15px; box-shadow: 0 0 30px rgba(0,0,0,0.5); }

</style>
</head>
<body>

<div id="pin">
  <h2>Unser Liebesbuch</h2>
  <input type="password" id="pinInput" placeholder="****" maxlength="4">
  <button onclick="checkPin()">Einloggen</button>
  <p id="pinMsg" style="color:#ff4f4f; margin-top:15px; font-weight: 500;"></p>
</div>

<div id="main" class="hidden">

<header>
  <h1>Can ‚ù§Ô∏è Aylin</h1>
  <p id="quote">"Wir sind eine Welt f√ºr uns zwei."</p>
</header>

<div class="counter-card">
  <div class="counter-grid">
    <div class="counter-item"><span id="days">0</span><label>Tage</label></div>
    <div class="counter-item"><span id="hours">0</span><label>Std</label></div>
    <div class="counter-item"><span id="minutes">0</span><label>Min</label></div>
    <div class="counter-item"><span id="seconds">0</span><label>Sek</label></div>
  </div>
  <p style="margin-top:15px; font-size: 0.9em; opacity: 0.8;">Zusammen seit dem 10. April 2025...</p>
</div>

<div class="music-player">
    <div class="album-art"></div>
    <div class="player-info">
        <h4>AYLIVA Mix</h4>
        <p>Wird jetzt abgespielt...</p>
    </div>
    <iframe id="youtube-player" 
        src="https://www.youtube.com/embed/videoseries?list=PLy8_yvH6A2S8E1_k6F9Ld_807W7Z5jN1G&enablejsapi=1" 
        frameborder="0" 
        allow="autoplay; encrypted-media">
    </iframe>
</div>

<div class="upload-section">
  <label class="custom-file-upload">
    <input type="file" id="fileInput" accept="image/*" style="display:none">
    üì∏ Neue Erinnerung hinzuf√ºgen
  </label>
</div>

<section class="gallery" id="gallery"></section>

</div>

<div id="lightbox" onclick="this.style.display='none'">
  <img id="lightImg">
</div>

<script>
/* Ayarlar */
const SITE_PIN = "1004";
const startDate = new Date("2025-04-10T00:00:00");
const defaultImage = "https://images.unsplash.com/photo-1518621736915-f3b1c41bfd00?q=80&w=500";

/* PIN Kontrol√º ve M√ºzik Ba≈ülatma */
function checkPin() {
  const input = document.getElementById("pinInput").value;
  if(input === SITE_PIN) {
    // M√ºziƒüi oynat (Autoplay i√ßin kullanƒ±cƒ± etkile≈üimi ≈üarttƒ±r, buton tƒ±klamasƒ± bunu saƒülar)
    const ytPlayer = document.getElementById("youtube-player");
    ytPlayer.src += "&autoplay=1";

    document.getElementById("pin").style.opacity = "0";
    setTimeout(() => {
      document.getElementById("pin").style.display = "none";
      const main = document.getElementById("main");
      main.classList.remove("hidden");
      setTimeout(() => main.style.opacity = "1", 50);
    }, 800);
  } else {
    document.getElementById("pinMsg").textContent = "Falscher PIN, versuch's nochmal, Schatz!";
    document.getElementById("pinInput").value = "";
  }
}

/* Saya√ß Fonksiyonu */
function updateCounter() {
  const now = new Date();
  const diff = now - startDate;

  const d = Math.floor(diff / (1000 * 60 * 60 * 24));
  const h = Math.floor((diff / (1000 * 60 * 60)) % 24);
  const m = Math.floor((diff / (1000 * 60)) % 60);
  const s = Math.floor((diff / 1000) % 60);

  document.getElementById("days").textContent = d;
  document.getElementById("hours").textContent = h;
  document.getElementById("minutes").textContent = m;
  document.getElementById("seconds").textContent = s;
}
setInterval(updateCounter, 1000);

/* Fotoƒüraf Y√∂netimi */
let photos = JSON.parse(localStorage.getItem("photos") || '["1P5NLAw-2s9ar9acN2Ifj3_NPrcHC0_Ax"]');
let votes = JSON.parse(localStorage.getItem("votes") || "{}");
let comments = JSON.parse(localStorage.getItem("comments") || "{}");

function renderGallery() {
  const gallery = document.getElementById("gallery");
  gallery.innerHTML = "";
  
  photos.forEach(id => {
    const isLocal = id.startsWith("data:");
    // Google Drive resimleri i√ßin geli≈ütirilmi≈ü link yapƒ±sƒ±
    const url = isLocal ? id : `https://lh3.googleusercontent.com/d/${id}`;
    
    const post = document.createElement("div");
    post.className = "post";
    
    const v = votes[id] || 0;
    const cmt = comments[id] || "";

    post.innerHTML = `
      <img src="${url}" onerror="this.src='${defaultImage}'" onclick="openLightbox(this.src)">
      <div class="overlay">
        <div class="heart-btn ${v > 0 ? 'liked' : ''}" onclick="likePhoto('${id}', this)">‚ù§</div>
        <input type="text" class="comment-input" placeholder="Schreibe etwas..." value="${cmt}" onchange="saveComment('${id}', this.value)">
      </div>
    `;
    gallery.appendChild(post);
  });
}

function openLightbox(url) {
  document.getElementById("lightImg").src = url;
  document.getElementById("lightbox").style.display = 'flex';
}

function likePhoto(id, el) {
  votes[id] = (votes[id] || 0) + 1;
  el.classList.toggle("liked");
  localStorage.setItem("votes", JSON.stringify(votes));
}

function saveComment(id, val) {
  comments[id] = val;
  localStorage.setItem("comments", JSON.stringify(comments));
}

/* Dosya Y√ºkleme */
document.getElementById("fileInput").onchange = (e) => {
  const file = e.target.files[0];
  if (file) {
    const reader = new FileReader();
    reader.onload = (event) => {
      photos.unshift(event.target.result);
      localStorage.setItem("photos", JSON.stringify(photos));
      renderGallery();
    };
    reader.readAsDataURL(file);
  }
};

/* Almanca A≈ük S√∂zleri */
const quotes = [
  "Willst du meine Ewigkeit sein?",
  "Du bist meine sch√∂nste Aussicht.",
  "Jedes Foto erz√§hlt unsere Geschichte.",
  "Ich liebe dich √ºber alles.",
  "F√ºr immer an deiner Seite."
];
let qi = 0;
setInterval(() => {
  const qEl = document.getElementById("quote");
  qEl.style.opacity = 0;
  setTimeout(() => {
    qEl.textContent = quotes[++qi % quotes.length];
    qEl.style.opacity = 1;
  }, 500);
}, 5000);

// Ba≈ülat
renderGallery();
updateCounter();
</script>

</body>
</html>
