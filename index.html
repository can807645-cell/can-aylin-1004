<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Can ‚ù§ Aylin</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500&display=swap" rel="stylesheet">

<style>
body{margin:0;font-family:Poppins,sans-serif;background:#000;color:#fff;}
.hidden{display:none;}
#pin{position:fixed;inset:0;background:#000c;display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:9}
#pin input{padding:12px;font-size:20px;border-radius:10px;border:none;width:120px;text-align:center}
header{padding:20px;text-align:center}
header h1{font-size:1.8em}
header p{opacity:.8}
.gallery{display:grid;grid-template-columns:repeat(3,1fr);gap:4px;padding:4px;}
@media(min-width:700px){.gallery{grid-template-columns:repeat(4,1fr)}}
@media(min-width:1100px){.gallery{grid-template-columns:repeat(5,1fr)}}
.post{position:relative;aspect-ratio:1/1;overflow:hidden;cursor:pointer}
.post img{width:100%;height:100%;object-fit:cover;transition:.3s}
.post:hover img{transform:scale(1.05)}
.overlay{position:absolute;inset:0;background:rgba(0,0,0,.35);display:flex;justify-content:center;align-items:center;font-size:26px;opacity:0;transition:.3s}
.post:hover .overlay{opacity:1}
.liked{color:#ff4fd8}
.comment-box{position:absolute;bottom:5px;width:100%;display:flex;justify-content:center;gap:5px}
.comment-box input{flex:1;padding:4px;border-radius:5px;border:none;font-size:12px}
.comment-box button{padding:4px 6px;border:none;background:#ff4fd8;color:#000;border-radius:5px;font-size:12px;cursor:pointer}
#lightbox{position:fixed;inset:0;background:#000e;display:none;justify-content:center;align-items:center;z-index:10}
#lightbox img{max-width:95%;max-height:95%;border-radius:12px}
.counter{text-align:center;padding:20px;opacity:.8;margin-bottom:30px;}
.upload-btn{display:block;text-align:center;margin:20px}
.upload-btn input{display:none}
button.upload{background:linear-gradient(45deg,#ff4fd8,#7a00ff);color:#fff;padding:10px 20px;border-radius:20px;border:none;cursor:pointer}
</style>
</head>
<body>

<div id="pin">
  <h2>Giri≈ü PIN</h2>
  <input type="password" id="pinInput" placeholder="19422">
  <button onclick="checkPin()">Giri≈ü</button>
  <p id="pinMsg"></p>
</div>

<div id="main" class="hidden">

<header>
  <h1>Can ‚ù§ Aylin</h1>
  <p>10.04.2025‚Äôte ba≈ülayan hik√¢yemiz</p>
</header>

<div class="upload-btn">
  <label>
    Fotoƒüraf Y√ºkle
    <input type="file" id="fileInput" accept="image/*">
  </label>
  <button class="upload" id="uploadBtn">Y√ºkle</button>
</div>

<section class="gallery" id="gallery"></section>
<div class="counter" id="counter"></div>

</div>

<div id="lightbox" onclick="this.style.display='none'">
  <img id="lightImg">
</div>

<script>
/* PIN */
const SITE_PIN="19422";
function checkPin(){
  if(pinInput.value===SITE_PIN){
    pin.style.display="none";
    main.classList.remove("hidden");
  }else pinMsg.textContent="Yanlƒ±≈ü PIN";
}

/* QUOTES (optional slider) */
const quotes=[
  "Biz iki ki≈üilik bir d√ºnyayƒ±z.",
  "Bazƒ± anƒ±lar sessizdir ama kalpte baƒüƒ±rƒ±r.",
  "Bu fotoƒüraflar bizim zaman makinemiz.",
  "Sonsuzluk bazen bir bakƒ±≈üta saklƒ±dƒ±r."
];
let qi=0;
setInterval(()=>{
  if(document.getElementById('quote')) document.getElementById('quote').textContent=quotes[qi++%quotes.length];
},4000);

/* COUNTER */
const start=new Date("2025-04-10");
setInterval(()=>{
  document.getElementById("counter").textContent=`Birlikte ${Math.floor((new Date()-start)/(1000*60*60*24))} g√ºnd√ºr üíñ`;
},1000);

/* PHOTOS */
const photos=[
  "1P5NLAw-2s9ar9acN2Ifj3_NPrcHC0_Ax"
];
let gallery=document.getElementById("gallery");
let votes=JSON.parse(localStorage.getItem("votes")||"{}");
let comments=JSON.parse(localStorage.getItem("comments")||"{}");

function renderGallery(){
  gallery.innerHTML="";
  photos.forEach(id=>{
    const url=`https://drive.google.com/thumbnail?id=${id}&sz=w1000`;
    const post=document.createElement("div");
    post.className="post";
    let v=votes[id]||0;
    let cmt=comments[id]||"";
    post.innerHTML=`
      <img src="${url}">
      <div class="overlay ${v>0?'liked':''}">‚ù§</div>
      <div class="comment-box">
        <input type="text" placeholder="Yorum ekle..." value="${cmt}">
        <button>G√∂nder</button>
      </div>
    `;
    const overlay=post.querySelector(".overlay");
    const input=post.querySelector("input");
    const btn=post.querySelector("button");

    overlay.onclick=e=>{e.stopPropagation();votes[id]=(votes[id]||0)+1;overlay.classList.add("liked"); localStorage.setItem("votes",JSON.stringify(votes));}
    btn.onclick=e=>{
      e.stopPropagation();
      comments[id]=input.value;
      localStorage.setItem("comments",JSON.stringify(comments));
      alert("Yorum kaydedildi!");
    }
    post.querySelector("img").onclick=()=>{document.getElementById("lightImg").src=url;document.getElementById("lightbox").style.display='flex'}
    gallery.appendChild(post);
  });
}

renderGallery();

/* UPLOAD (Cloudinary veya lokal test i√ßin) */
const fileInput=document.getElementById("fileInput");
const uploadBtn=document.getElementById("uploadBtn");
uploadBtn.onclick=async()=>{
  const file=fileInput.files[0];
  if(!file)return alert("Fotoƒüraf se√ßin");
  const reader=new FileReader();
  reader.onload=e=>{
    const newId="local"+Date.now();
    photos.push(newId);
    localStorage.setItem("photos",JSON.stringify(photos));
    renderGallery();
  };
  reader.readAsDataURL(file);
}
</script>

</body>
</html>
